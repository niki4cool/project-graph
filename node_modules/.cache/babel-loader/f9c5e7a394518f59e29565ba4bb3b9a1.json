{"ast":null,"code":"THREE.FBXLoader = require('../../lib/FBXLoader');\n/**\n * fbx-model\n *\n * Loader for FBX format. Supports ASCII, but *not* binary, models.\n */\n\nmodule.exports = AFRAME.registerComponent('fbx-model', {\n  schema: {\n    src: {\n      type: 'asset'\n    },\n    crossorigin: {\n      default: ''\n    }\n  },\n  init: function init() {\n    this.model = null;\n  },\n  update: function update() {\n    var data = this.data;\n    if (!data.src) return;\n    this.remove();\n    var loader = new THREE.FBXLoader();\n    if (data.crossorigin) loader.setCrossOrigin(data.crossorigin);\n    loader.load(data.src, this.load.bind(this));\n  },\n  load: function load(model) {\n    this.model = model;\n    this.el.setObject3D('mesh', model);\n    this.el.emit('model-loaded', {\n      format: 'fbx',\n      model: model\n    });\n  },\n  remove: function remove() {\n    if (this.model) this.el.removeObject3D('mesh');\n  }\n});","map":{"version":3,"names":["THREE","FBXLoader","require","module","exports","AFRAME","registerComponent","schema","src","type","crossorigin","default","init","model","update","data","remove","loader","setCrossOrigin","load","bind","el","setObject3D","emit","format","removeObject3D"],"sources":["X:/Project/graph/node_modules/aframe-extras/src/loaders/fbx-model.js"],"sourcesContent":["THREE.FBXLoader = require('../../lib/FBXLoader');\n\n/**\n * fbx-model\n *\n * Loader for FBX format. Supports ASCII, but *not* binary, models.\n */\nmodule.exports = AFRAME.registerComponent('fbx-model', {\n  schema: {\n    src:         { type: 'asset' },\n    crossorigin: { default: '' }\n  },\n\n  init: function () {\n    this.model = null;\n  },\n\n  update: function () {\n    const data = this.data;\n    if (!data.src) return;\n\n    this.remove();\n    const loader = new THREE.FBXLoader();\n    if (data.crossorigin) loader.setCrossOrigin(data.crossorigin);\n    loader.load(data.src, this.load.bind(this));\n  },\n\n  load: function (model) {\n    this.model = model;\n    this.el.setObject3D('mesh', model);\n    this.el.emit('model-loaded', {format: 'fbx', model: model});\n  },\n\n  remove: function () {\n    if (this.model) this.el.removeObject3D('mesh');\n  }\n});\n"],"mappings":"AAAAA,KAAK,CAACC,SAAN,GAAkBC,OAAO,CAAC,qBAAD,CAAzB;AAEA;AACA;AACA;AACA;AACA;;AACAC,MAAM,CAACC,OAAP,GAAiBC,MAAM,CAACC,iBAAP,CAAyB,WAAzB,EAAsC;EACrDC,MAAM,EAAE;IACNC,GAAG,EAAU;MAAEC,IAAI,EAAE;IAAR,CADP;IAENC,WAAW,EAAE;MAAEC,OAAO,EAAE;IAAX;EAFP,CAD6C;EAMrDC,IAAI,EAAE,gBAAY;IAChB,KAAKC,KAAL,GAAa,IAAb;EACD,CARoD;EAUrDC,MAAM,EAAE,kBAAY;IAClB,IAAMC,IAAI,GAAG,KAAKA,IAAlB;IACA,IAAI,CAACA,IAAI,CAACP,GAAV,EAAe;IAEf,KAAKQ,MAAL;IACA,IAAMC,MAAM,GAAG,IAAIjB,KAAK,CAACC,SAAV,EAAf;IACA,IAAIc,IAAI,CAACL,WAAT,EAAsBO,MAAM,CAACC,cAAP,CAAsBH,IAAI,CAACL,WAA3B;IACtBO,MAAM,CAACE,IAAP,CAAYJ,IAAI,CAACP,GAAjB,EAAsB,KAAKW,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAtB;EACD,CAlBoD;EAoBrDD,IAAI,EAAE,cAAUN,KAAV,EAAiB;IACrB,KAAKA,KAAL,GAAaA,KAAb;IACA,KAAKQ,EAAL,CAAQC,WAAR,CAAoB,MAApB,EAA4BT,KAA5B;IACA,KAAKQ,EAAL,CAAQE,IAAR,CAAa,cAAb,EAA6B;MAACC,MAAM,EAAE,KAAT;MAAgBX,KAAK,EAAEA;IAAvB,CAA7B;EACD,CAxBoD;EA0BrDG,MAAM,EAAE,kBAAY;IAClB,IAAI,KAAKH,KAAT,EAAgB,KAAKQ,EAAL,CAAQI,cAAR,CAAuB,MAAvB;EACjB;AA5BoD,CAAtC,CAAjB"},"metadata":{},"sourceType":"script"}