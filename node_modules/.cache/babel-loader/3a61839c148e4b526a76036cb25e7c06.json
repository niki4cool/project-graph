{"ast":null,"code":"import _toConsumableArray from \"X:/Project/graph/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"X:/Project/graph/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"X:/Project/graph/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n\nvar _jsxFileName = \"X:\\\\Project\\\\graph\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useRef, useState } from \"react\";\nimport { ForceGraph2D, ForceGraph3D } from \"react-force-graph\";\nimport DummyData from \"./data.json\";\nimport Button from \"./Button\";\nimport Info from \"./Info\";\nimport Menu from \"./Menu\";\nimport Panel from \"./Panel\";\nimport Toolbar from \"./Toolbar\";\nimport \"./styles.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar myInitialData = {\n  nodes: [{\n    id: 1341021,\n    user: \"name1\",\n    val: 4\n  }, {\n    id: 4062045,\n    user: \"name2\",\n    val: 4\n  }],\n  links: [{\n    source: 1341021,\n    target: 4062045\n  }]\n};\nvar nodeToAdd = {\n  id: 1346410,\n  user: \"name3\",\n  val: 4\n};\n\nvar applyAnalytics = function applyAnalytics(data) {\n  var nodes = data.nodes.map(function (node) {\n    return _objectSpread(_objectSpread({}, node), {}, {\n      val: Math.floor(Math.random() * 6) + 1\n    });\n  });\n  var links = data.links.map(function (link) {\n    return _objectSpread(_objectSpread({}, link), {}, {\n      width: 2\n    });\n  });\n  return _objectSpread(_objectSpread({}, data), {}, {\n    nodes: nodes,\n    links: links\n  });\n};\n\nexport default function App() {\n  _s();\n\n  // const testData = myInitialData;\n  var testData = applyAnalytics(myInitialData);\n\n  var _useState = useState(DummyData),\n      _useState2 = _slicedToArray(_useState, 2),\n      myData = _useState2[0],\n      setMyData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      menuData = _useState4[0],\n      setMenuData = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      panelData = _useState6[0],\n      setPanelData = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      is3D = _useState8[0],\n      setIs3D = _useState8[1];\n\n  var refGraph = useRef();\n  var handleOnClickRemoveNode = useCallback(function () {\n    if (myData.nodes.find(function (node) {\n      return node.id === nodeToAdd.id;\n    })) {\n      var links = myData.links.filter(function (link) {\n        return link.source.id !== nodeToAdd.id && link.target.id !== nodeToAdd.id;\n      });\n      setMyData(_objectSpread(_objectSpread({}, myData), {}, {\n        nodes: myData.nodes.filter(function (node) {\n          return node.id !== nodeToAdd.id;\n        }),\n        links: links\n      }));\n    }\n  }, [myData]);\n  var jumpToNode = useCallback(function (refGraph, node) {\n    if (is3D) {\n      var distance = 256;\n      var distRatio = 1 + distance / Math.hypot(node.x, node.y, node.z);\n      refGraph.current.cameraPosition({\n        x: node.x * distRatio,\n        y: node.y * distRatio,\n        z: node.z * distRatio\n      }, // new position\n      node, // lookAt ({ x, y, z })\n      1500 // ms transition duration\n      );\n    } else {\n      refGraph.current.centerAt(node.x, node.y, 1500);\n    }\n  }, [is3D]);\n  var handleOnClickAddNodePanel = useCallback(function (node) {\n    var nodeToJumpTo = node.id;\n    setMyData(_objectSpread(_objectSpread({}, myData), {}, {\n      nodes: [].concat(_toConsumableArray(myData.nodes), [nodeToAdd]),\n      links: [].concat(_toConsumableArray(myData.links), [{\n        target: 1346410,\n        source: nodeToJumpTo.id,\n        width: 0\n      }])\n    }));\n  }, [myData, refGraph, jumpToNode]);\n  var handleOnClickAddNode = useCallback(function () {\n    var nodeToJumpTo = myData.nodes.find(function (node) {\n      return node.id === myData.nodes[1].id;\n    });\n    jumpToNode(refGraph, nodeToJumpTo);\n\n    if (!myData.nodes.find(function (node) {\n      return node.id === nodeToAdd.id;\n    })) {\n      setMyData(_objectSpread(_objectSpread({}, myData), {}, {\n        nodes: [].concat(_toConsumableArray(myData.nodes), [nodeToAdd]),\n        links: [].concat(_toConsumableArray(myData.links), [{\n          target: 1346410,\n          source: nodeToJumpTo.id,\n          width: 0\n        }])\n      }));\n    }\n  }, [myData, refGraph, jumpToNode]);\n  var handleOnClickNode = useCallback(function (node) {\n    setMenuData(false);\n    setPanelData(_objectSpread({}, node));\n  }, []);\n  var handleOnRightClickNode = useCallback(function (node, event) {\n    setMenuData({\n      positionX: event.pageX,\n      positionY: event.pageY\n    });\n  }, []);\n  var handleOnClickBackGround = useCallback(function (e) {\n    setMenuData(false);\n  }, []);\n  var handleOnRightClickBackGround = useCallback(function () {\n    setMenuData(false);\n  }, []);\n  var handleOnclickClosePanel = useCallback(function () {\n    setPanelData(false);\n    setMenuData(false);\n  }, []);\n  var handleOnclickJumpToNode = useCallback(function (node) {\n    jumpToNode(refGraph, node);\n  }, [refGraph, jumpToNode]);\n  var handleOnClickToggle3D = useCallback(function () {\n    setIs3D(!is3D);\n  }, [is3D]);\n  var Space = is3D ? ForceGraph3D : ForceGraph2D;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Space, {\n      ref: refGraph,\n      graphData: myData,\n      nodeAutoColorBy: function nodeAutoColorBy(node) {\n        return node.user;\n      },\n      onNodeClick: handleOnClickNode,\n      onNodeRightClick: handleOnRightClickNode,\n      onBackgroundClick: handleOnClickBackGround,\n      onBackgroundRightClick: handleOnRightClickBackGround,\n      nodeVal: function nodeVal(node) {\n        return node.val || 0;\n      },\n      nodeLabel: function nodeLabel(node) {\n        return node.user;\n      },\n      onNodeDragEnd: function onNodeDragEnd(node) {\n        node.fx = node.x;\n        node.fy = node.y;\n        node.fz = node.z;\n      },\n      linkDirectionalParticles: 2,\n      linkDirectionalParticleWidth: function linkDirectionalParticleWidth(link) {\n        return link.width;\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), panelData && /*#__PURE__*/_jsxDEV(Panel, {\n      node: panelData,\n      onClickClose: handleOnclickClosePanel,\n      onClickJumpToNode: handleOnclickJumpToNode,\n      addNode: handleOnClickAddNodePanel\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }, this), menuData && /*#__PURE__*/_jsxDEV(Menu, {\n      positionX: menuData.positionX,\n      positionY: menuData.positionY\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleOnClickAddNode,\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u043E\\u0447\\u043A\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        onClick: handleOnClickRemoveNode,\n        children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0442\\u043E\\u0447\\u043A\\u0443\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Info, {\n      countNodes: myData.nodes.length,\n      countLinks: myData.links.length\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"nik4S8uaWUEkGFrp/opBjrWVafQ=\");\n\n_c = App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","ForceGraph2D","ForceGraph3D","DummyData","Button","Info","Menu","Panel","Toolbar","myInitialData","nodes","id","user","val","links","source","target","nodeToAdd","applyAnalytics","data","map","node","Math","floor","random","link","width","App","testData","myData","setMyData","menuData","setMenuData","panelData","setPanelData","is3D","setIs3D","refGraph","handleOnClickRemoveNode","find","filter","jumpToNode","distance","distRatio","hypot","x","y","z","current","cameraPosition","centerAt","handleOnClickAddNodePanel","nodeToJumpTo","handleOnClickAddNode","handleOnClickNode","handleOnRightClickNode","event","positionX","pageX","positionY","pageY","handleOnClickBackGround","e","handleOnRightClickBackGround","handleOnclickClosePanel","handleOnclickJumpToNode","handleOnClickToggle3D","Space","fx","fy","fz","length"],"sources":["X:/Project/graph/src/App.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { ForceGraph2D, ForceGraph3D } from \"react-force-graph\";\n\nimport DummyData from \"./data.json\";\n\nimport Button from \"./Button\";\nimport Info from \"./Info\";\nimport Menu from \"./Menu\";\nimport Panel from \"./Panel\";\nimport Toolbar from \"./Toolbar\";\n\nimport \"./styles.css\";\n\nconst myInitialData = {\n  nodes: [\n    {\n      id: 1341021,\n      user: \"name1\",\n      val: 4\n    },\n    {\n      id: 4062045,\n      user: \"name2\",\n      val: 4\n    }\n  ],\n  links: [\n    {\n      source: 1341021,\n      target: 4062045\n    }\n  ]\n};\n\nconst nodeToAdd = {\n  id: 1346410,\n  user: \"name3\",\n  val: 4\n};\n\nconst applyAnalytics = (data) => {\n  const nodes = data.nodes.map((node) => {\n    return {\n      ...node,\n      val: Math.floor(Math.random() * 6) + 1\n    };\n  });\n\n  const links = data.links.map((link) => {\n    return {\n      ...link,\n      width: 2\n    };\n  });\n\n  return { ...data, nodes, links };\n};\n\nexport default function App() {\n  // const testData = myInitialData;\n  const testData = applyAnalytics(myInitialData);\n\n  const [myData, setMyData] = useState(DummyData);\n  const [menuData, setMenuData] = useState(false);\n  const [panelData, setPanelData] = useState(false);\n  const [is3D, setIs3D] = useState(false);\n\n  const refGraph = useRef();\n\n  const handleOnClickRemoveNode = useCallback(() => {\n    if (myData.nodes.find((node) => node.id === nodeToAdd.id)) {\n      const links = myData.links.filter(\n        (link) =>\n          link.source.id !== nodeToAdd.id && link.target.id !== nodeToAdd.id\n      );\n\n      setMyData({\n        ...myData,\n        nodes: myData.nodes.filter((node) => node.id !== nodeToAdd.id),\n        links\n      });\n    }\n  }, [myData]);\n\n  const jumpToNode = useCallback(\n    (refGraph, node) => {\n      if (is3D) {\n        const distance = 256;\n        const distRatio = 1 + distance / Math.hypot(node.x, node.y, node.z);\n\n        refGraph.current.cameraPosition(\n          {\n            x: node.x * distRatio,\n            y: node.y * distRatio,\n            z: node.z * distRatio\n          }, // new position\n          node, // lookAt ({ x, y, z })\n          1500 // ms transition duration\n        );\n      } else {\n        refGraph.current.centerAt(node.x, node.y, 1500);\n      }\n    },\n    [is3D]\n  );\n\n  const handleOnClickAddNodePanel = useCallback((node) => {\n  const nodeToJumpTo = node.id;\n\n      setMyData({\n        ...myData,\n        nodes: [...myData.nodes, nodeToAdd],\n        links: [\n          ...myData.links,\n          {\n            target: 1346410,\n            source: nodeToJumpTo.id,\n            width: 0\n          }\n        ]\n      });\n       },\n       [myData, refGraph, jumpToNode]);\n\n\n  const handleOnClickAddNode = useCallback(() => {\n    const nodeToJumpTo = myData.nodes.find(\n      (node) => node.id === myData.nodes[1].id\n    );\n\n    jumpToNode(refGraph, nodeToJumpTo);\n\n    if (!myData.nodes.find((node) => node.id === nodeToAdd.id)) {\n      setMyData({\n        ...myData,\n        nodes: [...myData.nodes, nodeToAdd],\n        links: [\n          ...myData.links,\n          {\n            target: 1346410,\n            source: nodeToJumpTo.id,\n            width: 0\n          }\n        ]\n      });\n    }\n  }, [myData, refGraph, jumpToNode]);\n\n  const handleOnClickNode = useCallback((node) => {\n    setMenuData(false);\n    setPanelData({ ...node });\n  }, []);\n\n  const handleOnRightClickNode = useCallback((node, event) => {\n    setMenuData({\n      positionX: event.pageX,\n      positionY: event.pageY\n    });\n  }, []);\n\n  const handleOnClickBackGround = useCallback((e) => {\n    setMenuData(false);\n  }, []);\n\n  const handleOnRightClickBackGround = useCallback(() => {\n    setMenuData(false);\n  }, []);\n\n  const handleOnclickClosePanel = useCallback(() => {\n    setPanelData(false);\n    setMenuData(false);\n  }, []);\n\n  const handleOnclickJumpToNode = useCallback(\n    (node) => {\n      jumpToNode(refGraph, node);\n    },\n    [refGraph, jumpToNode]\n  );\n\n  const handleOnClickToggle3D = useCallback(() => {\n    setIs3D(!is3D);\n  }, [is3D]);\n\n  const Space = is3D ? ForceGraph3D : ForceGraph2D;\n\n  return (\n    <div className=\"App\">\n      <Space\n        ref={refGraph}\n        graphData={myData}\n        nodeAutoColorBy={(node) => node.user}\n        onNodeClick={handleOnClickNode}\n        onNodeRightClick={handleOnRightClickNode}\n        onBackgroundClick={handleOnClickBackGround}\n        onBackgroundRightClick={handleOnRightClickBackGround}\n        nodeVal={(node) => node.val || 0}\n        nodeLabel={(node) => node.user}\n        onNodeDragEnd={(node) => {\n          node.fx = node.x;\n          node.fy = node.y;\n          node.fz = node.z;\n        }}\n        linkDirectionalParticles={2}\n        linkDirectionalParticleWidth={(link) => {\n          return link.width;\n        }}\n      />\n      {panelData && (\n        <Panel\n          node={panelData}\n          onClickClose={handleOnclickClosePanel}\n          onClickJumpToNode={handleOnclickJumpToNode}\n          addNode={handleOnClickAddNodePanel}\n        />\n      )}\n      {menuData && (\n        <Menu positionX={menuData.positionX} positionY={menuData.positionY} />\n      )}\n      <Toolbar>\n        <Button onClick={handleOnClickAddNode}>Добавить точку</Button>\n        <Button onClick={handleOnClickRemoveNode}>Удалить точку</Button>\n      </Toolbar>\n      <Info countNodes={myData.nodes.length} countLinks={myData.links.length} />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}