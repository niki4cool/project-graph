{"ast":null,"code":"/**\n * Polyfill for the additional KeyboardEvent properties defined in the D3E and\n * D4E draft specifications, by @inexorabletash.\n *\n * See: https://github.com/inexorabletash/polyfill\n */\n(function (global) {\n  var nativeKeyboardEvent = ('KeyboardEvent' in global);\n  if (!nativeKeyboardEvent) global.KeyboardEvent = function KeyboardEvent() {\n    throw TypeError('Illegal constructor');\n  };\n  if (!('DOM_KEY_LOCATION_STANDARD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_STANDARD = 0x00; // Default or unknown location\n\n  if (!('DOM_KEY_LOCATION_LEFT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_LEFT = 0x01; // e.g. Left Alt key\n\n  if (!('DOM_KEY_LOCATION_RIGHT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_RIGHT = 0x02; // e.g. Right Alt key\n\n  if (!('DOM_KEY_LOCATION_NUMPAD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD = 0x03; // e.g. Numpad 0 or +\n\n  var STANDARD = window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,\n      LEFT = window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,\n      RIGHT = window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,\n      NUMPAD = window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD; //--------------------------------------------------------------------\n  //\n  // Utilities\n  //\n  //--------------------------------------------------------------------\n\n  function contains(s, ss) {\n    return String(s).indexOf(ss) !== -1;\n  }\n\n  var os = function () {\n    if (contains(navigator.platform, 'Win')) {\n      return 'win';\n    }\n\n    if (contains(navigator.platform, 'Mac')) {\n      return 'mac';\n    }\n\n    if (contains(navigator.platform, 'CrOS')) {\n      return 'cros';\n    }\n\n    if (contains(navigator.platform, 'Linux')) {\n      return 'linux';\n    }\n\n    if (contains(navigator.userAgent, 'iPad') || contains(navigator.platform, 'iPod') || contains(navigator.platform, 'iPhone')) {\n      return 'ios';\n    }\n\n    return '';\n  }();\n\n  var browser = function () {\n    if (contains(navigator.userAgent, 'Chrome/')) {\n      return 'chrome';\n    }\n\n    if (contains(navigator.vendor, 'Apple')) {\n      return 'safari';\n    }\n\n    if (contains(navigator.userAgent, 'MSIE')) {\n      return 'ie';\n    }\n\n    if (contains(navigator.userAgent, 'Gecko/')) {\n      return 'moz';\n    }\n\n    if (contains(navigator.userAgent, 'Opera/')) {\n      return 'opera';\n    }\n\n    return '';\n  }();\n\n  var browser_os = browser + '-' + os;\n\n  function mergeIf(baseTable, select, table) {\n    if (browser_os === select || browser === select || os === select) {\n      Object.keys(table).forEach(function (keyCode) {\n        baseTable[keyCode] = table[keyCode];\n      });\n    }\n  }\n\n  function remap(o, key) {\n    var r = {};\n    Object.keys(o).forEach(function (k) {\n      var item = o[k];\n\n      if (key in item) {\n        r[item[key]] = item;\n      }\n    });\n    return r;\n  }\n\n  function invert(o) {\n    var r = {};\n    Object.keys(o).forEach(function (k) {\n      r[o[k]] = k;\n    });\n    return r;\n  } //--------------------------------------------------------------------\n  //\n  // Generic Mappings\n  //\n  //--------------------------------------------------------------------\n  // \"keyInfo\" is a dictionary:\n  //   code: string - name from DOM Level 3 KeyboardEvent code Values\n  //     https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-code.html\n  //   location (optional): number - one of the DOM_KEY_LOCATION values\n  //   keyCap (optional): string - keyboard label in en-US locale\n  // USB code Usage ID from page 0x07 unless otherwise noted (Informative)\n  // Map of keyCode to keyInfo\n\n\n  var keyCodeToInfoTable = {\n    // 0x01 - VK_LBUTTON\n    // 0x02 - VK_RBUTTON\n    0x03: {\n      code: 'Cancel'\n    },\n    // [USB: 0x9b] char \\x0018 ??? (Not in D3E)\n    // 0x04 - VK_MBUTTON\n    // 0x05 - VK_XBUTTON1\n    // 0x06 - VK_XBUTTON2\n    0x06: {\n      code: 'Help'\n    },\n    // [USB: 0x75] ???\n    // 0x07 - undefined\n    0x08: {\n      code: 'Backspace'\n    },\n    // [USB: 0x2a] Labelled Delete on Macintosh keyboards.\n    0x09: {\n      code: 'Tab'\n    },\n    // [USB: 0x2b]\n    // 0x0A-0x0B - reserved\n    0X0C: {\n      code: 'Clear'\n    },\n    // [USB: 0x9c] NumPad Center (Not in D3E)\n    0X0D: {\n      code: 'Enter'\n    },\n    // [USB: 0x28]\n    // 0x0E-0x0F - undefined\n    0x10: {\n      code: 'Shift'\n    },\n    0x11: {\n      code: 'Control'\n    },\n    0x12: {\n      code: 'Alt'\n    },\n    0x13: {\n      code: 'Pause'\n    },\n    // [USB: 0x48]\n    0x14: {\n      code: 'CapsLock'\n    },\n    // [USB: 0x39]\n    0x15: {\n      code: 'KanaMode'\n    },\n    // [USB: 0x88] - \"HangulMode\" for Korean layout\n    0x16: {\n      code: 'HangulMode'\n    },\n    // [USB: 0x90] 0x15 as well in MSDN VK table ???\n    0x17: {\n      code: 'JunjaMode'\n    },\n    // (Not in D3E)\n    0x18: {\n      code: 'FinalMode'\n    },\n    // (Not in D3E)\n    0x19: {\n      code: 'KanjiMode'\n    },\n    // [USB: 0x91] - \"HanjaMode\" for Korean layout\n    // 0x1A - undefined\n    0x1B: {\n      code: 'Escape'\n    },\n    // [USB: 0x29]\n    0x1C: {\n      code: 'Convert'\n    },\n    // [USB: 0x8a]\n    0x1D: {\n      code: 'NonConvert'\n    },\n    // [USB: 0x8b]\n    0x1E: {\n      code: 'Accept'\n    },\n    // (Not in D3E)\n    0x1F: {\n      code: 'ModeChange'\n    },\n    // (Not in D3E)\n    0x20: {\n      code: 'Space'\n    },\n    // [USB: 0x2c]\n    0x21: {\n      code: 'PageUp'\n    },\n    // [USB: 0x4b]\n    0x22: {\n      code: 'PageDown'\n    },\n    // [USB: 0x4e]\n    0x23: {\n      code: 'End'\n    },\n    // [USB: 0x4d]\n    0x24: {\n      code: 'Home'\n    },\n    // [USB: 0x4a]\n    0x25: {\n      code: 'ArrowLeft'\n    },\n    // [USB: 0x50]\n    0x26: {\n      code: 'ArrowUp'\n    },\n    // [USB: 0x52]\n    0x27: {\n      code: 'ArrowRight'\n    },\n    // [USB: 0x4f]\n    0x28: {\n      code: 'ArrowDown'\n    },\n    // [USB: 0x51]\n    0x29: {\n      code: 'Select'\n    },\n    // (Not in D3E)\n    0x2A: {\n      code: 'Print'\n    },\n    // (Not in D3E)\n    0x2B: {\n      code: 'Execute'\n    },\n    // [USB: 0x74] (Not in D3E)\n    0x2C: {\n      code: 'PrintScreen'\n    },\n    // [USB: 0x46]\n    0x2D: {\n      code: 'Insert'\n    },\n    // [USB: 0x49]\n    0x2E: {\n      code: 'Delete'\n    },\n    // [USB: 0x4c]\n    0x2F: {\n      code: 'Help'\n    },\n    // [USB: 0x75] ???\n    0x30: {\n      code: 'Digit0',\n      keyCap: '0'\n    },\n    // [USB: 0x27] 0)\n    0x31: {\n      code: 'Digit1',\n      keyCap: '1'\n    },\n    // [USB: 0x1e] 1!\n    0x32: {\n      code: 'Digit2',\n      keyCap: '2'\n    },\n    // [USB: 0x1f] 2@\n    0x33: {\n      code: 'Digit3',\n      keyCap: '3'\n    },\n    // [USB: 0x20] 3#\n    0x34: {\n      code: 'Digit4',\n      keyCap: '4'\n    },\n    // [USB: 0x21] 4$\n    0x35: {\n      code: 'Digit5',\n      keyCap: '5'\n    },\n    // [USB: 0x22] 5%\n    0x36: {\n      code: 'Digit6',\n      keyCap: '6'\n    },\n    // [USB: 0x23] 6^\n    0x37: {\n      code: 'Digit7',\n      keyCap: '7'\n    },\n    // [USB: 0x24] 7&\n    0x38: {\n      code: 'Digit8',\n      keyCap: '8'\n    },\n    // [USB: 0x25] 8*\n    0x39: {\n      code: 'Digit9',\n      keyCap: '9'\n    },\n    // [USB: 0x26] 9(\n    // 0x3A-0x40 - undefined\n    0x41: {\n      code: 'KeyA',\n      keyCap: 'a'\n    },\n    // [USB: 0x04]\n    0x42: {\n      code: 'KeyB',\n      keyCap: 'b'\n    },\n    // [USB: 0x05]\n    0x43: {\n      code: 'KeyC',\n      keyCap: 'c'\n    },\n    // [USB: 0x06]\n    0x44: {\n      code: 'KeyD',\n      keyCap: 'd'\n    },\n    // [USB: 0x07]\n    0x45: {\n      code: 'KeyE',\n      keyCap: 'e'\n    },\n    // [USB: 0x08]\n    0x46: {\n      code: 'KeyF',\n      keyCap: 'f'\n    },\n    // [USB: 0x09]\n    0x47: {\n      code: 'KeyG',\n      keyCap: 'g'\n    },\n    // [USB: 0x0a]\n    0x48: {\n      code: 'KeyH',\n      keyCap: 'h'\n    },\n    // [USB: 0x0b]\n    0x49: {\n      code: 'KeyI',\n      keyCap: 'i'\n    },\n    // [USB: 0x0c]\n    0x4A: {\n      code: 'KeyJ',\n      keyCap: 'j'\n    },\n    // [USB: 0x0d]\n    0x4B: {\n      code: 'KeyK',\n      keyCap: 'k'\n    },\n    // [USB: 0x0e]\n    0x4C: {\n      code: 'KeyL',\n      keyCap: 'l'\n    },\n    // [USB: 0x0f]\n    0x4D: {\n      code: 'KeyM',\n      keyCap: 'm'\n    },\n    // [USB: 0x10]\n    0x4E: {\n      code: 'KeyN',\n      keyCap: 'n'\n    },\n    // [USB: 0x11]\n    0x4F: {\n      code: 'KeyO',\n      keyCap: 'o'\n    },\n    // [USB: 0x12]\n    0x50: {\n      code: 'KeyP',\n      keyCap: 'p'\n    },\n    // [USB: 0x13]\n    0x51: {\n      code: 'KeyQ',\n      keyCap: 'q'\n    },\n    // [USB: 0x14]\n    0x52: {\n      code: 'KeyR',\n      keyCap: 'r'\n    },\n    // [USB: 0x15]\n    0x53: {\n      code: 'KeyS',\n      keyCap: 's'\n    },\n    // [USB: 0x16]\n    0x54: {\n      code: 'KeyT',\n      keyCap: 't'\n    },\n    // [USB: 0x17]\n    0x55: {\n      code: 'KeyU',\n      keyCap: 'u'\n    },\n    // [USB: 0x18]\n    0x56: {\n      code: 'KeyV',\n      keyCap: 'v'\n    },\n    // [USB: 0x19]\n    0x57: {\n      code: 'KeyW',\n      keyCap: 'w'\n    },\n    // [USB: 0x1a]\n    0x58: {\n      code: 'KeyX',\n      keyCap: 'x'\n    },\n    // [USB: 0x1b]\n    0x59: {\n      code: 'KeyY',\n      keyCap: 'y'\n    },\n    // [USB: 0x1c]\n    0x5A: {\n      code: 'KeyZ',\n      keyCap: 'z'\n    },\n    // [USB: 0x1d]\n    0x5B: {\n      code: 'OSLeft',\n      location: LEFT\n    },\n    // [USB: 0xe3]\n    0x5C: {\n      code: 'OSRight',\n      location: RIGHT\n    },\n    // [USB: 0xe7]\n    0x5D: {\n      code: 'ContextMenu'\n    },\n    // [USB: 0x65] Context Menu\n    // 0x5E - reserved\n    0x5F: {\n      code: 'Standby'\n    },\n    // [USB: 0x82] Sleep\n    0x60: {\n      code: 'Numpad0',\n      keyCap: '0',\n      location: NUMPAD\n    },\n    // [USB: 0x62]\n    0x61: {\n      code: 'Numpad1',\n      keyCap: '1',\n      location: NUMPAD\n    },\n    // [USB: 0x59]\n    0x62: {\n      code: 'Numpad2',\n      keyCap: '2',\n      location: NUMPAD\n    },\n    // [USB: 0x5a]\n    0x63: {\n      code: 'Numpad3',\n      keyCap: '3',\n      location: NUMPAD\n    },\n    // [USB: 0x5b]\n    0x64: {\n      code: 'Numpad4',\n      keyCap: '4',\n      location: NUMPAD\n    },\n    // [USB: 0x5c]\n    0x65: {\n      code: 'Numpad5',\n      keyCap: '5',\n      location: NUMPAD\n    },\n    // [USB: 0x5d]\n    0x66: {\n      code: 'Numpad6',\n      keyCap: '6',\n      location: NUMPAD\n    },\n    // [USB: 0x5e]\n    0x67: {\n      code: 'Numpad7',\n      keyCap: '7',\n      location: NUMPAD\n    },\n    // [USB: 0x5f]\n    0x68: {\n      code: 'Numpad8',\n      keyCap: '8',\n      location: NUMPAD\n    },\n    // [USB: 0x60]\n    0x69: {\n      code: 'Numpad9',\n      keyCap: '9',\n      location: NUMPAD\n    },\n    // [USB: 0x61]\n    0x6A: {\n      code: 'NumpadMultiply',\n      keyCap: '*',\n      location: NUMPAD\n    },\n    // [USB: 0x55]\n    0x6B: {\n      code: 'NumpadAdd',\n      keyCap: '+',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0x6C: {\n      code: 'NumpadComma',\n      keyCap: ',',\n      location: NUMPAD\n    },\n    // [USB: 0x85]\n    0x6D: {\n      code: 'NumpadSubtract',\n      keyCap: '-',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0x6E: {\n      code: 'NumpadDecimal',\n      keyCap: '.',\n      location: NUMPAD\n    },\n    // [USB: 0x63]\n    0x6F: {\n      code: 'NumpadDivide',\n      keyCap: '/',\n      location: NUMPAD\n    },\n    // [USB: 0x54]\n    0x70: {\n      code: 'F1'\n    },\n    // [USB: 0x3a]\n    0x71: {\n      code: 'F2'\n    },\n    // [USB: 0x3b]\n    0x72: {\n      code: 'F3'\n    },\n    // [USB: 0x3c]\n    0x73: {\n      code: 'F4'\n    },\n    // [USB: 0x3d]\n    0x74: {\n      code: 'F5'\n    },\n    // [USB: 0x3e]\n    0x75: {\n      code: 'F6'\n    },\n    // [USB: 0x3f]\n    0x76: {\n      code: 'F7'\n    },\n    // [USB: 0x40]\n    0x77: {\n      code: 'F8'\n    },\n    // [USB: 0x41]\n    0x78: {\n      code: 'F9'\n    },\n    // [USB: 0x42]\n    0x79: {\n      code: 'F10'\n    },\n    // [USB: 0x43]\n    0x7A: {\n      code: 'F11'\n    },\n    // [USB: 0x44]\n    0x7B: {\n      code: 'F12'\n    },\n    // [USB: 0x45]\n    0x7C: {\n      code: 'F13'\n    },\n    // [USB: 0x68]\n    0x7D: {\n      code: 'F14'\n    },\n    // [USB: 0x69]\n    0x7E: {\n      code: 'F15'\n    },\n    // [USB: 0x6a]\n    0x7F: {\n      code: 'F16'\n    },\n    // [USB: 0x6b]\n    0x80: {\n      code: 'F17'\n    },\n    // [USB: 0x6c]\n    0x81: {\n      code: 'F18'\n    },\n    // [USB: 0x6d]\n    0x82: {\n      code: 'F19'\n    },\n    // [USB: 0x6e]\n    0x83: {\n      code: 'F20'\n    },\n    // [USB: 0x6f]\n    0x84: {\n      code: 'F21'\n    },\n    // [USB: 0x70]\n    0x85: {\n      code: 'F22'\n    },\n    // [USB: 0x71]\n    0x86: {\n      code: 'F23'\n    },\n    // [USB: 0x72]\n    0x87: {\n      code: 'F24'\n    },\n    // [USB: 0x73]\n    // 0x88-0x8F - unassigned\n    0x90: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0x91: {\n      code: 'ScrollLock'\n    },\n    // [USB: 0x47]\n    // 0x92-0x96 - OEM specific\n    // 0x97-0x9F - unassigned\n    // NOTE: 0xA0-0xA5 usually mapped to 0x10-0x12 in browsers\n    0xA0: {\n      code: 'ShiftLeft',\n      location: LEFT\n    },\n    // [USB: 0xe1]\n    0xA1: {\n      code: 'ShiftRight',\n      location: RIGHT\n    },\n    // [USB: 0xe5]\n    0xA2: {\n      code: 'ControlLeft',\n      location: LEFT\n    },\n    // [USB: 0xe0]\n    0xA3: {\n      code: 'ControlRight',\n      location: RIGHT\n    },\n    // [USB: 0xe4]\n    0xA4: {\n      code: 'AltLeft',\n      location: LEFT\n    },\n    // [USB: 0xe2]\n    0xA5: {\n      code: 'AltRight',\n      location: RIGHT\n    },\n    // [USB: 0xe6]\n    0xA6: {\n      code: 'BrowserBack'\n    },\n    // [USB: 0x0c/0x0224]\n    0xA7: {\n      code: 'BrowserForward'\n    },\n    // [USB: 0x0c/0x0225]\n    0xA8: {\n      code: 'BrowserRefresh'\n    },\n    // [USB: 0x0c/0x0227]\n    0xA9: {\n      code: 'BrowserStop'\n    },\n    // [USB: 0x0c/0x0226]\n    0xAA: {\n      code: 'BrowserSearch'\n    },\n    // [USB: 0x0c/0x0221]\n    0xAB: {\n      code: 'BrowserFavorites'\n    },\n    // [USB: 0x0c/0x0228]\n    0xAC: {\n      code: 'BrowserHome'\n    },\n    // [USB: 0x0c/0x0222]\n    0xAD: {\n      code: 'VolumeMute'\n    },\n    // [USB: 0x7f]\n    0xAE: {\n      code: 'VolumeDown'\n    },\n    // [USB: 0x81]\n    0xAF: {\n      code: 'VolumeUp'\n    },\n    // [USB: 0x80]\n    0xB0: {\n      code: 'MediaTrackNext'\n    },\n    // [USB: 0x0c/0x00b5]\n    0xB1: {\n      code: 'MediaTrackPrevious'\n    },\n    // [USB: 0x0c/0x00b6]\n    0xB2: {\n      code: 'MediaStop'\n    },\n    // [USB: 0x0c/0x00b7]\n    0xB3: {\n      code: 'MediaPlayPause'\n    },\n    // [USB: 0x0c/0x00cd]\n    0xB4: {\n      code: 'LaunchMail'\n    },\n    // [USB: 0x0c/0x018a]\n    0xB5: {\n      code: 'MediaSelect'\n    },\n    0xB6: {\n      code: 'LaunchApp1'\n    },\n    0xB7: {\n      code: 'LaunchApp2'\n    },\n    // 0xB8-0xB9 - reserved\n    0xBA: {\n      code: 'Semicolon',\n      keyCap: ';'\n    },\n    // [USB: 0x33] ;: (US Standard 101)\n    0xBB: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0xBC: {\n      code: 'Comma',\n      keyCap: ','\n    },\n    // [USB: 0x36] ,<\n    0xBD: {\n      code: 'Minus',\n      keyCap: '-'\n    },\n    // [USB: 0x2d] -_\n    0xBE: {\n      code: 'Period',\n      keyCap: '.'\n    },\n    // [USB: 0x37] .>\n    0xBF: {\n      code: 'Slash',\n      keyCap: '/'\n    },\n    // [USB: 0x38] /? (US Standard 101)\n    0xC0: {\n      code: 'Backquote',\n      keyCap: '`'\n    },\n    // [USB: 0x35] `~ (US Standard 101)\n    // 0xC1-0xCF - reserved\n    // 0xD0-0xD7 - reserved\n    // 0xD8-0xDA - unassigned\n    0xDB: {\n      code: 'BracketLeft',\n      keyCap: '['\n    },\n    // [USB: 0x2f] [{ (US Standard 101)\n    0xDC: {\n      code: 'Backslash',\n      keyCap: '\\\\'\n    },\n    // [USB: 0x31] \\| (US Standard 101)\n    0xDD: {\n      code: 'BracketRight',\n      keyCap: ']'\n    },\n    // [USB: 0x30] ]} (US Standard 101)\n    0xDE: {\n      code: 'Quote',\n      keyCap: '\\''\n    },\n    // [USB: 0x34] '\" (US Standard 101)\n    // 0xDF - miscellaneous/varies\n    // 0xE0 - reserved\n    // 0xE1 - OEM specific\n    0xE2: {\n      code: 'IntlBackslash',\n      keyCap: '\\\\'\n    },\n    // [USB: 0x64] \\| (UK Standard 102)\n    // 0xE3-0xE4 - OEM specific\n    0xE5: {\n      code: 'Process'\n    },\n    // (Not in D3E)\n    // 0xE6 - OEM specific\n    // 0xE7 - VK_PACKET\n    // 0xE8 - unassigned\n    // 0xE9-0xEF - OEM specific\n    // 0xF0-0xF5 - OEM specific\n    0xF6: {\n      code: 'Attn'\n    },\n    // [USB: 0x9a] (Not in D3E)\n    0xF7: {\n      code: 'CrSel'\n    },\n    // [USB: 0xa3] (Not in D3E)\n    0xF8: {\n      code: 'ExSel'\n    },\n    // [USB: 0xa4] (Not in D3E)\n    0xF9: {\n      code: 'EraseEof'\n    },\n    // (Not in D3E)\n    0xFA: {\n      code: 'Play'\n    },\n    // (Not in D3E)\n    0xFB: {\n      code: 'ZoomToggle'\n    },\n    // (Not in D3E)\n    // 0xFC - VK_NONAME - reserved\n    // 0xFD - VK_PA1\n    0xFE: {\n      code: 'Clear'\n    } // [USB: 0x9c] (Not in D3E)\n\n  }; // No legacy keyCode, but listed in D3E:\n  // code: usb\n  // 'IntlHash': 0x070032,\n  // 'IntlRo': 0x070087,\n  // 'IntlYen': 0x070089,\n  // 'NumpadBackspace': 0x0700bb,\n  // 'NumpadClear': 0x0700d8,\n  // 'NumpadClearEntry': 0x0700d9,\n  // 'NumpadMemoryAdd': 0x0700d3,\n  // 'NumpadMemoryClear': 0x0700d2,\n  // 'NumpadMemoryRecall': 0x0700d1,\n  // 'NumpadMemoryStore': 0x0700d0,\n  // 'NumpadMemorySubtract': 0x0700d4,\n  // 'NumpadParenLeft': 0x0700b6,\n  // 'NumpadParenRight': 0x0700b7,\n  //--------------------------------------------------------------------\n  //\n  // Browser/OS Specific Mappings\n  //\n  //--------------------------------------------------------------------\n\n  mergeIf(keyCodeToInfoTable, 'moz', {\n    0x3B: {\n      code: 'Semicolon',\n      keyCap: ';'\n    },\n    // [USB: 0x33] ;: (US Standard 101)\n    0x3D: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0x6B: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0x6D: {\n      code: 'Minus',\n      keyCap: '-'\n    },\n    // [USB: 0x2d] -_\n    0xBB: {\n      code: 'NumpadAdd',\n      keyCap: '+',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0xBD: {\n      code: 'NumpadSubtract',\n      keyCap: '-',\n      location: NUMPAD\n    } // [USB: 0x56]\n\n  });\n  mergeIf(keyCodeToInfoTable, 'moz-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0xAD: {\n      code: 'Minus',\n      keyCap: '-'\n    } // [USB: 0x2d] -_\n\n  });\n  mergeIf(keyCodeToInfoTable, 'moz-win', {\n    0xAD: {\n      code: 'Minus',\n      keyCap: '-'\n    } // [USB: 0x2d] -_\n\n  });\n  mergeIf(keyCodeToInfoTable, 'chrome-mac', {\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  }); // Windows via Bootcamp (!)\n\n  if (0) {\n    mergeIf(keyCodeToInfoTable, 'chrome-win', {\n      0xC0: {\n        code: 'Quote',\n        keyCap: '\\''\n      },\n      // [USB: 0x34] '\" (US Standard 101)\n      0xDE: {\n        code: 'Backslash',\n        keyCap: '\\\\'\n      },\n      // [USB: 0x31] \\| (US Standard 101)\n      0xDF: {\n        code: 'Backquote',\n        keyCap: '`'\n      } // [USB: 0x35] `~ (US Standard 101)\n\n    });\n    mergeIf(keyCodeToInfoTable, 'ie', {\n      0xC0: {\n        code: 'Quote',\n        keyCap: '\\''\n      },\n      // [USB: 0x34] '\" (US Standard 101)\n      0xDE: {\n        code: 'Backslash',\n        keyCap: '\\\\'\n      },\n      // [USB: 0x31] \\| (US Standard 101)\n      0xDF: {\n        code: 'Backquote',\n        keyCap: '`'\n      } // [USB: 0x35] `~ (US Standard 101)\n\n    });\n  }\n\n  mergeIf(keyCodeToInfoTable, 'safari', {\n    0x03: {\n      code: 'Enter'\n    },\n    // [USB: 0x28] old Safari\n    0x19: {\n      code: 'Tab'\n    } // [USB: 0x2b] old Safari for Shift+Tab\n\n  });\n  mergeIf(keyCodeToInfoTable, 'ios', {\n    0x0A: {\n      code: 'Enter',\n      location: STANDARD\n    } // [USB: 0x28]\n\n  });\n  mergeIf(keyCodeToInfoTable, 'safari-mac', {\n    0x5B: {\n      code: 'OSLeft',\n      location: LEFT\n    },\n    // [USB: 0xe3]\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    },\n    // [USB: 0xe7]\n    0xE5: {\n      code: 'KeyQ',\n      keyCap: 'Q'\n    } // [USB: 0x14] On alternate presses, Ctrl+Q sends this\n\n  }); //--------------------------------------------------------------------\n  //\n  // Identifier Mappings\n  //\n  //--------------------------------------------------------------------\n  // Cases where newer-ish browsers send keyIdentifier which can be\n  // used to disambiguate keys.\n  // keyIdentifierTable[keyIdentifier] -> keyInfo\n\n  var keyIdentifierTable = {};\n\n  if ('cros' === os) {\n    keyIdentifierTable['U+00A0'] = {\n      code: 'ShiftLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A1'] = {\n      code: 'ShiftRight',\n      location: RIGHT\n    };\n    keyIdentifierTable['U+00A2'] = {\n      code: 'ControlLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A3'] = {\n      code: 'ControlRight',\n      location: RIGHT\n    };\n    keyIdentifierTable['U+00A4'] = {\n      code: 'AltLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A5'] = {\n      code: 'AltRight',\n      location: RIGHT\n    };\n  }\n\n  if ('chrome-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = {\n      code: 'ContextMenu'\n    };\n  }\n\n  if ('safari-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = {\n      code: 'ContextMenu'\n    };\n  }\n\n  if ('ios' === os) {\n    // These only generate keyup events\n    keyIdentifierTable['U+0010'] = {\n      code: 'Function'\n    };\n    keyIdentifierTable['U+001C'] = {\n      code: 'ArrowLeft'\n    };\n    keyIdentifierTable['U+001D'] = {\n      code: 'ArrowRight'\n    };\n    keyIdentifierTable['U+001E'] = {\n      code: 'ArrowUp'\n    };\n    keyIdentifierTable['U+001F'] = {\n      code: 'ArrowDown'\n    };\n    keyIdentifierTable['U+0001'] = {\n      code: 'Home'\n    }; // [USB: 0x4a] Fn + ArrowLeft\n\n    keyIdentifierTable['U+0004'] = {\n      code: 'End'\n    }; // [USB: 0x4d] Fn + ArrowRight\n\n    keyIdentifierTable['U+000B'] = {\n      code: 'PageUp'\n    }; // [USB: 0x4b] Fn + ArrowUp\n\n    keyIdentifierTable['U+000C'] = {\n      code: 'PageDown'\n    }; // [USB: 0x4e] Fn + ArrowDown\n  } //--------------------------------------------------------------------\n  //\n  // Location Mappings\n  //\n  //--------------------------------------------------------------------\n  // Cases where newer-ish browsers send location/keyLocation which\n  // can be used to disambiguate keys.\n  // locationTable[location][keyCode] -> keyInfo\n\n\n  var locationTable = [];\n  locationTable[LEFT] = {\n    0x10: {\n      code: 'ShiftLeft',\n      location: LEFT\n    },\n    // [USB: 0xe1]\n    0x11: {\n      code: 'ControlLeft',\n      location: LEFT\n    },\n    // [USB: 0xe0]\n    0x12: {\n      code: 'AltLeft',\n      location: LEFT\n    } // [USB: 0xe2]\n\n  };\n  locationTable[RIGHT] = {\n    0x10: {\n      code: 'ShiftRight',\n      location: RIGHT\n    },\n    // [USB: 0xe5]\n    0x11: {\n      code: 'ControlRight',\n      location: RIGHT\n    },\n    // [USB: 0xe4]\n    0x12: {\n      code: 'AltRight',\n      location: RIGHT\n    } // [USB: 0xe6]\n\n  };\n  locationTable[NUMPAD] = {\n    0x0D: {\n      code: 'NumpadEnter',\n      location: NUMPAD\n    } // [USB: 0x58]\n\n  };\n  mergeIf(locationTable[NUMPAD], 'moz', {\n    0x6D: {\n      code: 'NumpadSubtract',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0x6B: {\n      code: 'NumpadAdd',\n      location: NUMPAD\n    } // [USB: 0x57]\n\n  });\n  mergeIf(locationTable[LEFT], 'moz-mac', {\n    0xE0: {\n      code: 'OSLeft',\n      location: LEFT\n    } // [USB: 0xe3]\n\n  });\n  mergeIf(locationTable[RIGHT], 'moz-mac', {\n    0xE0: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[RIGHT], 'moz-win', {\n    0x5B: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[RIGHT], 'mac', {\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[NUMPAD], 'chrome-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    } // [USB: 0x53]\n\n  });\n  mergeIf(locationTable[NUMPAD], 'safari-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0xBB: {\n      code: 'NumpadAdd',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0xBD: {\n      code: 'NumpadSubtract',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0xBE: {\n      code: 'NumpadDecimal',\n      location: NUMPAD\n    },\n    // [USB: 0x63]\n    0xBF: {\n      code: 'NumpadDivide',\n      location: NUMPAD\n    } // [USB: 0x54]\n\n  }); //--------------------------------------------------------------------\n  //\n  // Key Values\n  //\n  //--------------------------------------------------------------------\n  // Mapping from `code` values to `key` values. Values defined at:\n  // https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-key.html\n  // Entries are only provided when `key` differs from `code`. If\n  // printable, `shiftKey` has the shifted printable character. This\n  // assumes US Standard 101 layout\n\n  var codeToKeyTable = {\n    // Modifier Keys\n    ShiftLeft: {\n      key: 'Shift'\n    },\n    ShiftRight: {\n      key: 'Shift'\n    },\n    ControlLeft: {\n      key: 'Control'\n    },\n    ControlRight: {\n      key: 'Control'\n    },\n    AltLeft: {\n      key: 'Alt'\n    },\n    AltRight: {\n      key: 'Alt'\n    },\n    OSLeft: {\n      key: 'OS'\n    },\n    OSRight: {\n      key: 'OS'\n    },\n    // Whitespace Keys\n    NumpadEnter: {\n      key: 'Enter'\n    },\n    Space: {\n      key: ' '\n    },\n    // Printable Keys\n    Digit0: {\n      key: '0',\n      shiftKey: ')'\n    },\n    Digit1: {\n      key: '1',\n      shiftKey: '!'\n    },\n    Digit2: {\n      key: '2',\n      shiftKey: '@'\n    },\n    Digit3: {\n      key: '3',\n      shiftKey: '#'\n    },\n    Digit4: {\n      key: '4',\n      shiftKey: '$'\n    },\n    Digit5: {\n      key: '5',\n      shiftKey: '%'\n    },\n    Digit6: {\n      key: '6',\n      shiftKey: '^'\n    },\n    Digit7: {\n      key: '7',\n      shiftKey: '&'\n    },\n    Digit8: {\n      key: '8',\n      shiftKey: '*'\n    },\n    Digit9: {\n      key: '9',\n      shiftKey: '('\n    },\n    KeyA: {\n      key: 'a',\n      shiftKey: 'A'\n    },\n    KeyB: {\n      key: 'b',\n      shiftKey: 'B'\n    },\n    KeyC: {\n      key: 'c',\n      shiftKey: 'C'\n    },\n    KeyD: {\n      key: 'd',\n      shiftKey: 'D'\n    },\n    KeyE: {\n      key: 'e',\n      shiftKey: 'E'\n    },\n    KeyF: {\n      key: 'f',\n      shiftKey: 'F'\n    },\n    KeyG: {\n      key: 'g',\n      shiftKey: 'G'\n    },\n    KeyH: {\n      key: 'h',\n      shiftKey: 'H'\n    },\n    KeyI: {\n      key: 'i',\n      shiftKey: 'I'\n    },\n    KeyJ: {\n      key: 'j',\n      shiftKey: 'J'\n    },\n    KeyK: {\n      key: 'k',\n      shiftKey: 'K'\n    },\n    KeyL: {\n      key: 'l',\n      shiftKey: 'L'\n    },\n    KeyM: {\n      key: 'm',\n      shiftKey: 'M'\n    },\n    KeyN: {\n      key: 'n',\n      shiftKey: 'N'\n    },\n    KeyO: {\n      key: 'o',\n      shiftKey: 'O'\n    },\n    KeyP: {\n      key: 'p',\n      shiftKey: 'P'\n    },\n    KeyQ: {\n      key: 'q',\n      shiftKey: 'Q'\n    },\n    KeyR: {\n      key: 'r',\n      shiftKey: 'R'\n    },\n    KeyS: {\n      key: 's',\n      shiftKey: 'S'\n    },\n    KeyT: {\n      key: 't',\n      shiftKey: 'T'\n    },\n    KeyU: {\n      key: 'u',\n      shiftKey: 'U'\n    },\n    KeyV: {\n      key: 'v',\n      shiftKey: 'V'\n    },\n    KeyW: {\n      key: 'w',\n      shiftKey: 'W'\n    },\n    KeyX: {\n      key: 'x',\n      shiftKey: 'X'\n    },\n    KeyY: {\n      key: 'y',\n      shiftKey: 'Y'\n    },\n    KeyZ: {\n      key: 'z',\n      shiftKey: 'Z'\n    },\n    Numpad0: {\n      key: '0'\n    },\n    Numpad1: {\n      key: '1'\n    },\n    Numpad2: {\n      key: '2'\n    },\n    Numpad3: {\n      key: '3'\n    },\n    Numpad4: {\n      key: '4'\n    },\n    Numpad5: {\n      key: '5'\n    },\n    Numpad6: {\n      key: '6'\n    },\n    Numpad7: {\n      key: '7'\n    },\n    Numpad8: {\n      key: '8'\n    },\n    Numpad9: {\n      key: '9'\n    },\n    NumpadMultiply: {\n      key: '*'\n    },\n    NumpadAdd: {\n      key: '+'\n    },\n    NumpadComma: {\n      key: ','\n    },\n    NumpadSubtract: {\n      key: '-'\n    },\n    NumpadDecimal: {\n      key: '.'\n    },\n    NumpadDivide: {\n      key: '/'\n    },\n    Semicolon: {\n      key: ';',\n      shiftKey: ':'\n    },\n    Equal: {\n      key: '=',\n      shiftKey: '+'\n    },\n    Comma: {\n      key: ',',\n      shiftKey: '<'\n    },\n    Minus: {\n      key: '-',\n      shiftKey: '_'\n    },\n    Period: {\n      key: '.',\n      shiftKey: '>'\n    },\n    Slash: {\n      key: '/',\n      shiftKey: '?'\n    },\n    Backquote: {\n      key: '`',\n      shiftKey: '~'\n    },\n    BracketLeft: {\n      key: '[',\n      shiftKey: '{'\n    },\n    Backslash: {\n      key: '\\\\',\n      shiftKey: '|'\n    },\n    BracketRight: {\n      key: ']',\n      shiftKey: '}'\n    },\n    Quote: {\n      key: '\\'',\n      shiftKey: '\"'\n    },\n    IntlBackslash: {\n      key: '\\\\',\n      shiftKey: '|'\n    }\n  };\n  mergeIf(codeToKeyTable, 'mac', {\n    OSLeft: {\n      key: 'Meta'\n    },\n    OSRight: {\n      key: 'Meta'\n    }\n  }); // Corrections for 'key' names in older browsers (e.g. FF36-)\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key#Key_values\n\n  var keyFixTable = {\n    Esc: 'Escape',\n    Nonconvert: 'NonConvert',\n    Left: 'ArrowLeft',\n    Up: 'ArrowUp',\n    Right: 'ArrowRight',\n    Down: 'ArrowDown',\n    Del: 'Delete',\n    Menu: 'ContextMenu',\n    MediaNextTrack: 'MediaTrackNext',\n    MediaPreviousTrack: 'MediaTrackPrevious',\n    SelectMedia: 'MediaSelect',\n    HalfWidth: 'Hankaku',\n    FullWidth: 'Zenkaku',\n    RomanCharacters: 'Romaji',\n    Crsel: 'CrSel',\n    Exsel: 'ExSel',\n    Zoom: 'ZoomToggle'\n  }; //--------------------------------------------------------------------\n  //\n  // Exported Functions\n  //\n  //--------------------------------------------------------------------\n\n  var codeTable = remap(keyCodeToInfoTable, 'code');\n\n  try {\n    var nativeLocation = nativeKeyboardEvent && 'location' in new KeyboardEvent('');\n  } catch (_) {}\n\n  function keyInfoForEvent(event) {\n    var keyCode = 'keyCode' in event ? event.keyCode : 'which' in event ? event.which : 0;\n\n    var keyInfo = function () {\n      if (nativeLocation || 'keyLocation' in event) {\n        var location = nativeLocation ? event.location : event.keyLocation;\n\n        if (location && keyCode in locationTable[location]) {\n          return locationTable[location][keyCode];\n        }\n      }\n\n      if ('keyIdentifier' in event && event.keyIdentifier in keyIdentifierTable) {\n        return keyIdentifierTable[event.keyIdentifier];\n      }\n\n      if (keyCode in keyCodeToInfoTable) {\n        return keyCodeToInfoTable[keyCode];\n      }\n\n      return null;\n    }(); // TODO: Track these down and move to general tables\n\n\n    if (0) {\n      // TODO: Map these for newerish browsers?\n      // TODO: iOS only?\n      // TODO: Override with more common keyIdentifier name?\n      switch (event.keyIdentifier) {\n        case 'U+0010':\n          keyInfo = {\n            code: 'Function'\n          };\n          break;\n\n        case 'U+001C':\n          keyInfo = {\n            code: 'ArrowLeft'\n          };\n          break;\n\n        case 'U+001D':\n          keyInfo = {\n            code: 'ArrowRight'\n          };\n          break;\n\n        case 'U+001E':\n          keyInfo = {\n            code: 'ArrowUp'\n          };\n          break;\n\n        case 'U+001F':\n          keyInfo = {\n            code: 'ArrowDown'\n          };\n          break;\n      }\n    }\n\n    if (!keyInfo) return null;\n\n    var key = function () {\n      var entry = codeToKeyTable[keyInfo.code];\n      if (!entry) return keyInfo.code;\n      return event.shiftKey && 'shiftKey' in entry ? entry.shiftKey : entry.key;\n    }();\n\n    return {\n      code: keyInfo.code,\n      key: key,\n      location: keyInfo.location,\n      keyCap: keyInfo.keyCap\n    };\n  }\n\n  function queryKeyCap(code, locale) {\n    code = String(code);\n    if (!codeTable.hasOwnProperty(code)) return 'Undefined';\n    if (locale && String(locale).toLowerCase() !== 'en-us') throw Error('Unsupported locale');\n    var keyInfo = codeTable[code];\n    return keyInfo.keyCap || keyInfo.code || 'Undefined';\n  }\n\n  if ('KeyboardEvent' in global && 'defineProperty' in Object) {\n    (function () {\n      function define(o, p, v) {\n        if (p in o) return;\n        Object.defineProperty(o, p, v);\n      }\n\n      define(KeyboardEvent.prototype, 'code', {\n        get: function get() {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo ? keyInfo.code : '';\n        }\n      }); // Fix for nonstandard `key` values (FF36-)\n\n      if ('key' in KeyboardEvent.prototype) {\n        var desc = Object.getOwnPropertyDescriptor(KeyboardEvent.prototype, 'key');\n        Object.defineProperty(KeyboardEvent.prototype, 'key', {\n          get: function get() {\n            var key = desc.get.call(this);\n            return keyFixTable.hasOwnProperty(key) ? keyFixTable[key] : key;\n          }\n        });\n      }\n\n      define(KeyboardEvent.prototype, 'key', {\n        get: function get() {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo && 'key' in keyInfo ? keyInfo.key : 'Unidentified';\n        }\n      });\n      define(KeyboardEvent.prototype, 'location', {\n        get: function get() {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo && 'location' in keyInfo ? keyInfo.location : STANDARD;\n        }\n      });\n      define(KeyboardEvent.prototype, 'locale', {\n        get: function get() {\n          return '';\n        }\n      });\n    })();\n  }\n\n  if (!('queryKeyCap' in global.KeyboardEvent)) global.KeyboardEvent.queryKeyCap = queryKeyCap; // Helper for IE8-\n\n  global.identifyKey = function (event) {\n    if ('code' in event) return;\n    var keyInfo = keyInfoForEvent(event);\n    event.code = keyInfo ? keyInfo.code : '';\n    event.key = keyInfo && 'key' in keyInfo ? keyInfo.key : 'Unidentified';\n    event.location = 'location' in event ? event.location : 'keyLocation' in event ? event.keyLocation : keyInfo && 'location' in keyInfo ? keyInfo.location : STANDARD;\n    event.locale = '';\n  };\n})(window);","map":{"version":3,"names":["global","nativeKeyboardEvent","KeyboardEvent","TypeError","DOM_KEY_LOCATION_STANDARD","DOM_KEY_LOCATION_LEFT","DOM_KEY_LOCATION_RIGHT","DOM_KEY_LOCATION_NUMPAD","STANDARD","window","LEFT","RIGHT","NUMPAD","contains","s","ss","String","indexOf","os","navigator","platform","userAgent","browser","vendor","browser_os","mergeIf","baseTable","select","table","Object","keys","forEach","keyCode","remap","o","key","r","k","item","invert","keyCodeToInfoTable","code","keyCap","location","keyIdentifierTable","locationTable","codeToKeyTable","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","OSLeft","OSRight","NumpadEnter","Space","Digit0","shiftKey","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadMultiply","NumpadAdd","NumpadComma","NumpadSubtract","NumpadDecimal","NumpadDivide","Semicolon","Equal","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","IntlBackslash","keyFixTable","Esc","Nonconvert","Left","Up","Right","Down","Del","Menu","MediaNextTrack","MediaPreviousTrack","SelectMedia","HalfWidth","FullWidth","RomanCharacters","Crsel","Exsel","Zoom","codeTable","nativeLocation","_","keyInfoForEvent","event","which","keyInfo","keyLocation","keyIdentifier","entry","queryKeyCap","locale","hasOwnProperty","toLowerCase","Error","define","p","v","defineProperty","prototype","get","desc","getOwnPropertyDescriptor","call","identifyKey"],"sources":["X:/Project/graph/node_modules/aframe-extras/lib/keyboard.polyfill.js"],"sourcesContent":["/**\n * Polyfill for the additional KeyboardEvent properties defined in the D3E and\n * D4E draft specifications, by @inexorabletash.\n *\n * See: https://github.com/inexorabletash/polyfill\n */\n(function(global) {\n  var nativeKeyboardEvent = ('KeyboardEvent' in global);\n  if (!nativeKeyboardEvent)\n    global.KeyboardEvent = function KeyboardEvent() { throw TypeError('Illegal constructor'); };\n\n  if (!('DOM_KEY_LOCATION_STANDARD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_STANDARD = 0x00; // Default or unknown location\n  if (!('DOM_KEY_LOCATION_LEFT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_LEFT          = 0x01; // e.g. Left Alt key\n  if (!('DOM_KEY_LOCATION_RIGHT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_RIGHT         = 0x02; // e.g. Right Alt key\n  if (!('DOM_KEY_LOCATION_NUMPAD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD        = 0x03; // e.g. Numpad 0 or +\n\n  var STANDARD = window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,\n      LEFT = window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,\n      RIGHT = window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,\n      NUMPAD = window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;\n\n  //--------------------------------------------------------------------\n  //\n  // Utilities\n  //\n  //--------------------------------------------------------------------\n\n  function contains(s, ss) { return String(s).indexOf(ss) !== -1; }\n\n  var os = (function() {\n    if (contains(navigator.platform, 'Win')) { return 'win'; }\n    if (contains(navigator.platform, 'Mac')) { return 'mac'; }\n    if (contains(navigator.platform, 'CrOS')) { return 'cros'; }\n    if (contains(navigator.platform, 'Linux')) { return 'linux'; }\n    if (contains(navigator.userAgent, 'iPad') || contains(navigator.platform, 'iPod') || contains(navigator.platform, 'iPhone')) { return 'ios'; }\n    return '';\n  } ());\n\n  var browser = (function() {\n    if (contains(navigator.userAgent, 'Chrome/')) { return 'chrome'; }\n    if (contains(navigator.vendor, 'Apple')) { return 'safari'; }\n    if (contains(navigator.userAgent, 'MSIE')) { return 'ie'; }\n    if (contains(navigator.userAgent, 'Gecko/')) { return 'moz'; }\n    if (contains(navigator.userAgent, 'Opera/')) { return 'opera'; }\n    return '';\n  } ());\n\n  var browser_os = browser + '-' + os;\n\n  function mergeIf(baseTable, select, table) {\n    if (browser_os === select || browser === select || os === select) {\n      Object.keys(table).forEach(function(keyCode) {\n        baseTable[keyCode] = table[keyCode];\n      });\n    }\n  }\n\n  function remap(o, key) {\n    var r = {};\n    Object.keys(o).forEach(function(k) {\n      var item = o[k];\n      if (key in item) {\n        r[item[key]] = item;\n      }\n    });\n    return r;\n  }\n\n  function invert(o) {\n    var r = {};\n    Object.keys(o).forEach(function(k) {\n      r[o[k]] = k;\n    });\n    return r;\n  }\n\n  //--------------------------------------------------------------------\n  //\n  // Generic Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // \"keyInfo\" is a dictionary:\n  //   code: string - name from DOM Level 3 KeyboardEvent code Values\n  //     https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-code.html\n  //   location (optional): number - one of the DOM_KEY_LOCATION values\n  //   keyCap (optional): string - keyboard label in en-US locale\n  // USB code Usage ID from page 0x07 unless otherwise noted (Informative)\n\n  // Map of keyCode to keyInfo\n  var keyCodeToInfoTable = {\n    // 0x01 - VK_LBUTTON\n    // 0x02 - VK_RBUTTON\n    0x03: { code: 'Cancel' }, // [USB: 0x9b] char \\x0018 ??? (Not in D3E)\n    // 0x04 - VK_MBUTTON\n    // 0x05 - VK_XBUTTON1\n    // 0x06 - VK_XBUTTON2\n    0x06: { code: 'Help' }, // [USB: 0x75] ???\n    // 0x07 - undefined\n    0x08: { code: 'Backspace' }, // [USB: 0x2a] Labelled Delete on Macintosh keyboards.\n    0x09: { code: 'Tab' }, // [USB: 0x2b]\n    // 0x0A-0x0B - reserved\n    0X0C: { code: 'Clear' }, // [USB: 0x9c] NumPad Center (Not in D3E)\n    0X0D: { code: 'Enter' }, // [USB: 0x28]\n    // 0x0E-0x0F - undefined\n\n    0x10: { code: 'Shift' },\n    0x11: { code: 'Control' },\n    0x12: { code: 'Alt' },\n    0x13: { code: 'Pause' }, // [USB: 0x48]\n    0x14: { code: 'CapsLock' }, // [USB: 0x39]\n    0x15: { code: 'KanaMode' }, // [USB: 0x88] - \"HangulMode\" for Korean layout\n    0x16: { code: 'HangulMode' }, // [USB: 0x90] 0x15 as well in MSDN VK table ???\n    0x17: { code: 'JunjaMode' }, // (Not in D3E)\n    0x18: { code: 'FinalMode' }, // (Not in D3E)\n    0x19: { code: 'KanjiMode' }, // [USB: 0x91] - \"HanjaMode\" for Korean layout\n    // 0x1A - undefined\n    0x1B: { code: 'Escape' }, // [USB: 0x29]\n    0x1C: { code: 'Convert' }, // [USB: 0x8a]\n    0x1D: { code: 'NonConvert' }, // [USB: 0x8b]\n    0x1E: { code: 'Accept' }, // (Not in D3E)\n    0x1F: { code: 'ModeChange' }, // (Not in D3E)\n\n    0x20: { code: 'Space' }, // [USB: 0x2c]\n    0x21: { code: 'PageUp' }, // [USB: 0x4b]\n    0x22: { code: 'PageDown' }, // [USB: 0x4e]\n    0x23: { code: 'End' }, // [USB: 0x4d]\n    0x24: { code: 'Home' }, // [USB: 0x4a]\n    0x25: { code: 'ArrowLeft' }, // [USB: 0x50]\n    0x26: { code: 'ArrowUp' }, // [USB: 0x52]\n    0x27: { code: 'ArrowRight' }, // [USB: 0x4f]\n    0x28: { code: 'ArrowDown' }, // [USB: 0x51]\n    0x29: { code: 'Select' }, // (Not in D3E)\n    0x2A: { code: 'Print' }, // (Not in D3E)\n    0x2B: { code: 'Execute' }, // [USB: 0x74] (Not in D3E)\n    0x2C: { code: 'PrintScreen' }, // [USB: 0x46]\n    0x2D: { code: 'Insert' }, // [USB: 0x49]\n    0x2E: { code: 'Delete' }, // [USB: 0x4c]\n    0x2F: { code: 'Help' }, // [USB: 0x75] ???\n\n    0x30: { code: 'Digit0', keyCap: '0' }, // [USB: 0x27] 0)\n    0x31: { code: 'Digit1', keyCap: '1' }, // [USB: 0x1e] 1!\n    0x32: { code: 'Digit2', keyCap: '2' }, // [USB: 0x1f] 2@\n    0x33: { code: 'Digit3', keyCap: '3' }, // [USB: 0x20] 3#\n    0x34: { code: 'Digit4', keyCap: '4' }, // [USB: 0x21] 4$\n    0x35: { code: 'Digit5', keyCap: '5' }, // [USB: 0x22] 5%\n    0x36: { code: 'Digit6', keyCap: '6' }, // [USB: 0x23] 6^\n    0x37: { code: 'Digit7', keyCap: '7' }, // [USB: 0x24] 7&\n    0x38: { code: 'Digit8', keyCap: '8' }, // [USB: 0x25] 8*\n    0x39: { code: 'Digit9', keyCap: '9' }, // [USB: 0x26] 9(\n    // 0x3A-0x40 - undefined\n\n    0x41: { code: 'KeyA', keyCap: 'a' }, // [USB: 0x04]\n    0x42: { code: 'KeyB', keyCap: 'b' }, // [USB: 0x05]\n    0x43: { code: 'KeyC', keyCap: 'c' }, // [USB: 0x06]\n    0x44: { code: 'KeyD', keyCap: 'd' }, // [USB: 0x07]\n    0x45: { code: 'KeyE', keyCap: 'e' }, // [USB: 0x08]\n    0x46: { code: 'KeyF', keyCap: 'f' }, // [USB: 0x09]\n    0x47: { code: 'KeyG', keyCap: 'g' }, // [USB: 0x0a]\n    0x48: { code: 'KeyH', keyCap: 'h' }, // [USB: 0x0b]\n    0x49: { code: 'KeyI', keyCap: 'i' }, // [USB: 0x0c]\n    0x4A: { code: 'KeyJ', keyCap: 'j' }, // [USB: 0x0d]\n    0x4B: { code: 'KeyK', keyCap: 'k' }, // [USB: 0x0e]\n    0x4C: { code: 'KeyL', keyCap: 'l' }, // [USB: 0x0f]\n    0x4D: { code: 'KeyM', keyCap: 'm' }, // [USB: 0x10]\n    0x4E: { code: 'KeyN', keyCap: 'n' }, // [USB: 0x11]\n    0x4F: { code: 'KeyO', keyCap: 'o' }, // [USB: 0x12]\n\n    0x50: { code: 'KeyP', keyCap: 'p' }, // [USB: 0x13]\n    0x51: { code: 'KeyQ', keyCap: 'q' }, // [USB: 0x14]\n    0x52: { code: 'KeyR', keyCap: 'r' }, // [USB: 0x15]\n    0x53: { code: 'KeyS', keyCap: 's' }, // [USB: 0x16]\n    0x54: { code: 'KeyT', keyCap: 't' }, // [USB: 0x17]\n    0x55: { code: 'KeyU', keyCap: 'u' }, // [USB: 0x18]\n    0x56: { code: 'KeyV', keyCap: 'v' }, // [USB: 0x19]\n    0x57: { code: 'KeyW', keyCap: 'w' }, // [USB: 0x1a]\n    0x58: { code: 'KeyX', keyCap: 'x' }, // [USB: 0x1b]\n    0x59: { code: 'KeyY', keyCap: 'y' }, // [USB: 0x1c]\n    0x5A: { code: 'KeyZ', keyCap: 'z' }, // [USB: 0x1d]\n    0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\n    0x5C: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\n    0x5D: { code: 'ContextMenu' }, // [USB: 0x65] Context Menu\n    // 0x5E - reserved\n    0x5F: { code: 'Standby' }, // [USB: 0x82] Sleep\n\n    0x60: { code: 'Numpad0', keyCap: '0', location: NUMPAD }, // [USB: 0x62]\n    0x61: { code: 'Numpad1', keyCap: '1', location: NUMPAD }, // [USB: 0x59]\n    0x62: { code: 'Numpad2', keyCap: '2', location: NUMPAD }, // [USB: 0x5a]\n    0x63: { code: 'Numpad3', keyCap: '3', location: NUMPAD }, // [USB: 0x5b]\n    0x64: { code: 'Numpad4', keyCap: '4', location: NUMPAD }, // [USB: 0x5c]\n    0x65: { code: 'Numpad5', keyCap: '5', location: NUMPAD }, // [USB: 0x5d]\n    0x66: { code: 'Numpad6', keyCap: '6', location: NUMPAD }, // [USB: 0x5e]\n    0x67: { code: 'Numpad7', keyCap: '7', location: NUMPAD }, // [USB: 0x5f]\n    0x68: { code: 'Numpad8', keyCap: '8', location: NUMPAD }, // [USB: 0x60]\n    0x69: { code: 'Numpad9', keyCap: '9', location: NUMPAD }, // [USB: 0x61]\n    0x6A: { code: 'NumpadMultiply', keyCap: '*', location: NUMPAD }, // [USB: 0x55]\n    0x6B: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\n    0x6C: { code: 'NumpadComma', keyCap: ',', location: NUMPAD }, // [USB: 0x85]\n    0x6D: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD }, // [USB: 0x56]\n    0x6E: { code: 'NumpadDecimal', keyCap: '.', location: NUMPAD }, // [USB: 0x63]\n    0x6F: { code: 'NumpadDivide', keyCap: '/', location: NUMPAD }, // [USB: 0x54]\n\n    0x70: { code: 'F1' }, // [USB: 0x3a]\n    0x71: { code: 'F2' }, // [USB: 0x3b]\n    0x72: { code: 'F3' }, // [USB: 0x3c]\n    0x73: { code: 'F4' }, // [USB: 0x3d]\n    0x74: { code: 'F5' }, // [USB: 0x3e]\n    0x75: { code: 'F6' }, // [USB: 0x3f]\n    0x76: { code: 'F7' }, // [USB: 0x40]\n    0x77: { code: 'F8' }, // [USB: 0x41]\n    0x78: { code: 'F9' }, // [USB: 0x42]\n    0x79: { code: 'F10' }, // [USB: 0x43]\n    0x7A: { code: 'F11' }, // [USB: 0x44]\n    0x7B: { code: 'F12' }, // [USB: 0x45]\n    0x7C: { code: 'F13' }, // [USB: 0x68]\n    0x7D: { code: 'F14' }, // [USB: 0x69]\n    0x7E: { code: 'F15' }, // [USB: 0x6a]\n    0x7F: { code: 'F16' }, // [USB: 0x6b]\n\n    0x80: { code: 'F17' }, // [USB: 0x6c]\n    0x81: { code: 'F18' }, // [USB: 0x6d]\n    0x82: { code: 'F19' }, // [USB: 0x6e]\n    0x83: { code: 'F20' }, // [USB: 0x6f]\n    0x84: { code: 'F21' }, // [USB: 0x70]\n    0x85: { code: 'F22' }, // [USB: 0x71]\n    0x86: { code: 'F23' }, // [USB: 0x72]\n    0x87: { code: 'F24' }, // [USB: 0x73]\n    // 0x88-0x8F - unassigned\n\n    0x90: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n    0x91: { code: 'ScrollLock' }, // [USB: 0x47]\n    // 0x92-0x96 - OEM specific\n    // 0x97-0x9F - unassigned\n\n    // NOTE: 0xA0-0xA5 usually mapped to 0x10-0x12 in browsers\n    0xA0: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\n    0xA1: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\n    0xA2: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\n    0xA3: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\n    0xA4: { code: 'AltLeft', location: LEFT }, // [USB: 0xe2]\n    0xA5: { code: 'AltRight', location: RIGHT }, // [USB: 0xe6]\n\n    0xA6: { code: 'BrowserBack' }, // [USB: 0x0c/0x0224]\n    0xA7: { code: 'BrowserForward' }, // [USB: 0x0c/0x0225]\n    0xA8: { code: 'BrowserRefresh' }, // [USB: 0x0c/0x0227]\n    0xA9: { code: 'BrowserStop' }, // [USB: 0x0c/0x0226]\n    0xAA: { code: 'BrowserSearch' }, // [USB: 0x0c/0x0221]\n    0xAB: { code: 'BrowserFavorites' }, // [USB: 0x0c/0x0228]\n    0xAC: { code: 'BrowserHome' }, // [USB: 0x0c/0x0222]\n    0xAD: { code: 'VolumeMute' }, // [USB: 0x7f]\n    0xAE: { code: 'VolumeDown' }, // [USB: 0x81]\n    0xAF: { code: 'VolumeUp' }, // [USB: 0x80]\n\n    0xB0: { code: 'MediaTrackNext' }, // [USB: 0x0c/0x00b5]\n    0xB1: { code: 'MediaTrackPrevious' }, // [USB: 0x0c/0x00b6]\n    0xB2: { code: 'MediaStop' }, // [USB: 0x0c/0x00b7]\n    0xB3: { code: 'MediaPlayPause' }, // [USB: 0x0c/0x00cd]\n    0xB4: { code: 'LaunchMail' }, // [USB: 0x0c/0x018a]\n    0xB5: { code: 'MediaSelect' },\n    0xB6: { code: 'LaunchApp1' },\n    0xB7: { code: 'LaunchApp2' },\n    // 0xB8-0xB9 - reserved\n    0xBA: { code: 'Semicolon',  keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\n    0xBB: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n    0xBC: { code: 'Comma', keyCap: ',' }, // [USB: 0x36] ,<\n    0xBD: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\n    0xBE: { code: 'Period', keyCap: '.' }, // [USB: 0x37] .>\n    0xBF: { code: 'Slash', keyCap: '/' }, // [USB: 0x38] /? (US Standard 101)\n\n    0xC0: { code: 'Backquote', keyCap: '`' }, // [USB: 0x35] `~ (US Standard 101)\n    // 0xC1-0xCF - reserved\n\n    // 0xD0-0xD7 - reserved\n    // 0xD8-0xDA - unassigned\n    0xDB: { code: 'BracketLeft', keyCap: '[' }, // [USB: 0x2f] [{ (US Standard 101)\n    0xDC: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n    0xDD: { code: 'BracketRight', keyCap: ']' }, // [USB: 0x30] ]} (US Standard 101)\n    0xDE: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n    // 0xDF - miscellaneous/varies\n\n    // 0xE0 - reserved\n    // 0xE1 - OEM specific\n    0xE2: { code: 'IntlBackslash',  keyCap: '\\\\' }, // [USB: 0x64] \\| (UK Standard 102)\n    // 0xE3-0xE4 - OEM specific\n    0xE5: { code: 'Process' }, // (Not in D3E)\n    // 0xE6 - OEM specific\n    // 0xE7 - VK_PACKET\n    // 0xE8 - unassigned\n    // 0xE9-0xEF - OEM specific\n\n    // 0xF0-0xF5 - OEM specific\n    0xF6: { code: 'Attn' }, // [USB: 0x9a] (Not in D3E)\n    0xF7: { code: 'CrSel' }, // [USB: 0xa3] (Not in D3E)\n    0xF8: { code: 'ExSel' }, // [USB: 0xa4] (Not in D3E)\n    0xF9: { code: 'EraseEof' }, // (Not in D3E)\n    0xFA: { code: 'Play' }, // (Not in D3E)\n    0xFB: { code: 'ZoomToggle' }, // (Not in D3E)\n    // 0xFC - VK_NONAME - reserved\n    // 0xFD - VK_PA1\n    0xFE: { code: 'Clear' } // [USB: 0x9c] (Not in D3E)\n  };\n\n  // No legacy keyCode, but listed in D3E:\n\n  // code: usb\n  // 'IntlHash': 0x070032,\n  // 'IntlRo': 0x070087,\n  // 'IntlYen': 0x070089,\n  // 'NumpadBackspace': 0x0700bb,\n  // 'NumpadClear': 0x0700d8,\n  // 'NumpadClearEntry': 0x0700d9,\n  // 'NumpadMemoryAdd': 0x0700d3,\n  // 'NumpadMemoryClear': 0x0700d2,\n  // 'NumpadMemoryRecall': 0x0700d1,\n  // 'NumpadMemoryStore': 0x0700d0,\n  // 'NumpadMemorySubtract': 0x0700d4,\n  // 'NumpadParenLeft': 0x0700b6,\n  // 'NumpadParenRight': 0x0700b7,\n\n  //--------------------------------------------------------------------\n  //\n  // Browser/OS Specific Mappings\n  //\n  //--------------------------------------------------------------------\n\n  mergeIf(keyCodeToInfoTable,\n          'moz', {\n            0x3B: { code: 'Semicolon', keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\n            0x3D: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n            0x6B: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n            0x6D: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\n            0xBB: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\n            0xBD: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD } // [USB: 0x56]\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'moz-mac', {\n            0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'moz-win', {\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'chrome-mac', {\n            0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n          });\n\n  // Windows via Bootcamp (!)\n  if (0) {\n    mergeIf(keyCodeToInfoTable,\n            'chrome-win', {\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\n            });\n\n    mergeIf(keyCodeToInfoTable,\n            'ie', {\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\n            });\n  }\n\n  mergeIf(keyCodeToInfoTable,\n          'safari', {\n            0x03: { code: 'Enter' }, // [USB: 0x28] old Safari\n            0x19: { code: 'Tab' } // [USB: 0x2b] old Safari for Shift+Tab\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'ios', {\n            0x0A: { code: 'Enter', location: STANDARD } // [USB: 0x28]\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'safari-mac', {\n            0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\n            0x5D: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\n            0xE5: { code: 'KeyQ', keyCap: 'Q' } // [USB: 0x14] On alternate presses, Ctrl+Q sends this\n          });\n\n  //--------------------------------------------------------------------\n  //\n  // Identifier Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // Cases where newer-ish browsers send keyIdentifier which can be\n  // used to disambiguate keys.\n\n  // keyIdentifierTable[keyIdentifier] -> keyInfo\n\n  var keyIdentifierTable = {};\n  if ('cros' === os) {\n    keyIdentifierTable['U+00A0'] = { code: 'ShiftLeft', location: LEFT };\n    keyIdentifierTable['U+00A1'] = { code: 'ShiftRight', location: RIGHT };\n    keyIdentifierTable['U+00A2'] = { code: 'ControlLeft', location: LEFT };\n    keyIdentifierTable['U+00A3'] = { code: 'ControlRight', location: RIGHT };\n    keyIdentifierTable['U+00A4'] = { code: 'AltLeft', location: LEFT };\n    keyIdentifierTable['U+00A5'] = { code: 'AltRight', location: RIGHT };\n  }\n  if ('chrome-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\n  }\n  if ('safari-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\n  }\n  if ('ios' === os) {\n    // These only generate keyup events\n    keyIdentifierTable['U+0010'] = { code: 'Function' };\n\n    keyIdentifierTable['U+001C'] = { code: 'ArrowLeft' };\n    keyIdentifierTable['U+001D'] = { code: 'ArrowRight' };\n    keyIdentifierTable['U+001E'] = { code: 'ArrowUp' };\n    keyIdentifierTable['U+001F'] = { code: 'ArrowDown' };\n\n    keyIdentifierTable['U+0001'] = { code: 'Home' }; // [USB: 0x4a] Fn + ArrowLeft\n    keyIdentifierTable['U+0004'] = { code: 'End' }; // [USB: 0x4d] Fn + ArrowRight\n    keyIdentifierTable['U+000B'] = { code: 'PageUp' }; // [USB: 0x4b] Fn + ArrowUp\n    keyIdentifierTable['U+000C'] = { code: 'PageDown' }; // [USB: 0x4e] Fn + ArrowDown\n  }\n\n  //--------------------------------------------------------------------\n  //\n  // Location Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // Cases where newer-ish browsers send location/keyLocation which\n  // can be used to disambiguate keys.\n\n  // locationTable[location][keyCode] -> keyInfo\n  var locationTable = [];\n  locationTable[LEFT] = {\n    0x10: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\n    0x11: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\n    0x12: { code: 'AltLeft', location: LEFT } // [USB: 0xe2]\n  };\n  locationTable[RIGHT] = {\n    0x10: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\n    0x11: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\n    0x12: { code: 'AltRight', location: RIGHT } // [USB: 0xe6]\n  };\n  locationTable[NUMPAD] = {\n    0x0D: { code: 'NumpadEnter', location: NUMPAD } // [USB: 0x58]\n  };\n\n  mergeIf(locationTable[NUMPAD], 'moz', {\n    0x6D: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\n    0x6B: { code: 'NumpadAdd', location: NUMPAD } // [USB: 0x57]\n  });\n  mergeIf(locationTable[LEFT], 'moz-mac', {\n    0xE0: { code: 'OSLeft', location: LEFT } // [USB: 0xe3]\n  });\n  mergeIf(locationTable[RIGHT], 'moz-mac', {\n    0xE0: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n  mergeIf(locationTable[RIGHT], 'moz-win', {\n    0x5B: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n\n\n  mergeIf(locationTable[RIGHT], 'mac', {\n    0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n\n  mergeIf(locationTable[NUMPAD], 'chrome-mac', {\n    0x0C: { code: 'NumLock', location: NUMPAD } // [USB: 0x53]\n  });\n\n  mergeIf(locationTable[NUMPAD], 'safari-mac', {\n    0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n    0xBB: { code: 'NumpadAdd', location: NUMPAD }, // [USB: 0x57]\n    0xBD: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\n    0xBE: { code: 'NumpadDecimal', location: NUMPAD }, // [USB: 0x63]\n    0xBF: { code: 'NumpadDivide', location: NUMPAD } // [USB: 0x54]\n  });\n\n\n  //--------------------------------------------------------------------\n  //\n  // Key Values\n  //\n  //--------------------------------------------------------------------\n\n  // Mapping from `code` values to `key` values. Values defined at:\n  // https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-key.html\n  // Entries are only provided when `key` differs from `code`. If\n  // printable, `shiftKey` has the shifted printable character. This\n  // assumes US Standard 101 layout\n\n  var codeToKeyTable = {\n    // Modifier Keys\n    ShiftLeft: { key: 'Shift' },\n    ShiftRight: { key: 'Shift' },\n    ControlLeft: { key: 'Control' },\n    ControlRight: { key: 'Control' },\n    AltLeft: { key: 'Alt' },\n    AltRight: { key: 'Alt' },\n    OSLeft: { key: 'OS' },\n    OSRight: { key: 'OS' },\n\n    // Whitespace Keys\n    NumpadEnter: { key: 'Enter' },\n    Space: { key: ' ' },\n\n    // Printable Keys\n    Digit0: { key: '0', shiftKey: ')' },\n    Digit1: { key: '1', shiftKey: '!' },\n    Digit2: { key: '2', shiftKey: '@' },\n    Digit3: { key: '3', shiftKey: '#' },\n    Digit4: { key: '4', shiftKey: '$' },\n    Digit5: { key: '5', shiftKey: '%' },\n    Digit6: { key: '6', shiftKey: '^' },\n    Digit7: { key: '7', shiftKey: '&' },\n    Digit8: { key: '8', shiftKey: '*' },\n    Digit9: { key: '9', shiftKey: '(' },\n    KeyA: { key: 'a', shiftKey: 'A' },\n    KeyB: { key: 'b', shiftKey: 'B' },\n    KeyC: { key: 'c', shiftKey: 'C' },\n    KeyD: { key: 'd', shiftKey: 'D' },\n    KeyE: { key: 'e', shiftKey: 'E' },\n    KeyF: { key: 'f', shiftKey: 'F' },\n    KeyG: { key: 'g', shiftKey: 'G' },\n    KeyH: { key: 'h', shiftKey: 'H' },\n    KeyI: { key: 'i', shiftKey: 'I' },\n    KeyJ: { key: 'j', shiftKey: 'J' },\n    KeyK: { key: 'k', shiftKey: 'K' },\n    KeyL: { key: 'l', shiftKey: 'L' },\n    KeyM: { key: 'm', shiftKey: 'M' },\n    KeyN: { key: 'n', shiftKey: 'N' },\n    KeyO: { key: 'o', shiftKey: 'O' },\n    KeyP: { key: 'p', shiftKey: 'P' },\n    KeyQ: { key: 'q', shiftKey: 'Q' },\n    KeyR: { key: 'r', shiftKey: 'R' },\n    KeyS: { key: 's', shiftKey: 'S' },\n    KeyT: { key: 't', shiftKey: 'T' },\n    KeyU: { key: 'u', shiftKey: 'U' },\n    KeyV: { key: 'v', shiftKey: 'V' },\n    KeyW: { key: 'w', shiftKey: 'W' },\n    KeyX: { key: 'x', shiftKey: 'X' },\n    KeyY: { key: 'y', shiftKey: 'Y' },\n    KeyZ: { key: 'z', shiftKey: 'Z' },\n    Numpad0: { key: '0' },\n    Numpad1: { key: '1' },\n    Numpad2: { key: '2' },\n    Numpad3: { key: '3' },\n    Numpad4: { key: '4' },\n    Numpad5: { key: '5' },\n    Numpad6: { key: '6' },\n    Numpad7: { key: '7' },\n    Numpad8: { key: '8' },\n    Numpad9: { key: '9' },\n    NumpadMultiply: { key: '*' },\n    NumpadAdd: { key: '+' },\n    NumpadComma: { key: ',' },\n    NumpadSubtract: { key: '-' },\n    NumpadDecimal: { key: '.' },\n    NumpadDivide: { key: '/' },\n    Semicolon: { key: ';', shiftKey: ':' },\n    Equal: { key: '=', shiftKey: '+' },\n    Comma: { key: ',', shiftKey: '<' },\n    Minus: { key: '-', shiftKey: '_' },\n    Period: { key: '.', shiftKey: '>' },\n    Slash: { key: '/', shiftKey: '?' },\n    Backquote: { key: '`', shiftKey: '~' },\n    BracketLeft: { key: '[', shiftKey: '{' },\n    Backslash: { key: '\\\\', shiftKey: '|' },\n    BracketRight: { key: ']', shiftKey: '}' },\n    Quote: { key: '\\'', shiftKey: '\"' },\n    IntlBackslash: { key: '\\\\', shiftKey: '|' }\n  };\n\n  mergeIf(codeToKeyTable, 'mac', {\n    OSLeft: { key: 'Meta' },\n    OSRight: { key: 'Meta' }\n  });\n\n  // Corrections for 'key' names in older browsers (e.g. FF36-)\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key#Key_values\n  var keyFixTable = {\n    Esc: 'Escape',\n    Nonconvert: 'NonConvert',\n    Left: 'ArrowLeft',\n    Up: 'ArrowUp',\n    Right: 'ArrowRight',\n    Down: 'ArrowDown',\n    Del: 'Delete',\n    Menu: 'ContextMenu',\n    MediaNextTrack: 'MediaTrackNext',\n    MediaPreviousTrack: 'MediaTrackPrevious',\n    SelectMedia: 'MediaSelect',\n    HalfWidth: 'Hankaku',\n    FullWidth: 'Zenkaku',\n    RomanCharacters: 'Romaji',\n    Crsel: 'CrSel',\n    Exsel: 'ExSel',\n    Zoom: 'ZoomToggle'\n  };\n\n  //--------------------------------------------------------------------\n  //\n  // Exported Functions\n  //\n  //--------------------------------------------------------------------\n\n\n  var codeTable = remap(keyCodeToInfoTable, 'code');\n\n  try {\n    var nativeLocation = nativeKeyboardEvent && ('location' in new KeyboardEvent(''));\n  } catch (_) {}\n\n  function keyInfoForEvent(event) {\n    var keyCode = 'keyCode' in event ? event.keyCode : 'which' in event ? event.which : 0;\n\n    var keyInfo = (function(){\n      if (nativeLocation || 'keyLocation' in event) {\n        var location = nativeLocation ? event.location : event.keyLocation;\n        if (location && keyCode in locationTable[location]) {\n          return locationTable[location][keyCode];\n        }\n      }\n      if ('keyIdentifier' in event && event.keyIdentifier in keyIdentifierTable) {\n        return keyIdentifierTable[event.keyIdentifier];\n      }\n      if (keyCode in keyCodeToInfoTable) {\n        return keyCodeToInfoTable[keyCode];\n      }\n      return null;\n    }());\n\n    // TODO: Track these down and move to general tables\n    if (0) {\n      // TODO: Map these for newerish browsers?\n      // TODO: iOS only?\n      // TODO: Override with more common keyIdentifier name?\n      switch (event.keyIdentifier) {\n      case 'U+0010': keyInfo = { code: 'Function' }; break;\n      case 'U+001C': keyInfo = { code: 'ArrowLeft' }; break;\n      case 'U+001D': keyInfo = { code: 'ArrowRight' }; break;\n      case 'U+001E': keyInfo = { code: 'ArrowUp' }; break;\n      case 'U+001F': keyInfo = { code: 'ArrowDown' }; break;\n      }\n    }\n\n    if (!keyInfo)\n      return null;\n\n    var key = (function() {\n      var entry = codeToKeyTable[keyInfo.code];\n      if (!entry) return keyInfo.code;\n      return (event.shiftKey && 'shiftKey' in entry) ? entry.shiftKey : entry.key;\n    }());\n\n    return {\n      code: keyInfo.code,\n      key: key,\n      location: keyInfo.location,\n      keyCap: keyInfo.keyCap\n    };\n  }\n\n  function queryKeyCap(code, locale) {\n    code = String(code);\n    if (!codeTable.hasOwnProperty(code)) return 'Undefined';\n    if (locale && String(locale).toLowerCase() !== 'en-us') throw Error('Unsupported locale');\n    var keyInfo = codeTable[code];\n    return keyInfo.keyCap || keyInfo.code || 'Undefined';\n  }\n\n  if ('KeyboardEvent' in global && 'defineProperty' in Object) {\n    (function() {\n      function define(o, p, v) {\n        if (p in o) return;\n        Object.defineProperty(o, p, v);\n      }\n\n      define(KeyboardEvent.prototype, 'code', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return keyInfo ? keyInfo.code : '';\n      }});\n\n      // Fix for nonstandard `key` values (FF36-)\n      if ('key' in KeyboardEvent.prototype) {\n        var desc = Object.getOwnPropertyDescriptor(KeyboardEvent.prototype, 'key');\n        Object.defineProperty(KeyboardEvent.prototype, 'key', { get: function() {\n          var key = desc.get.call(this);\n          return keyFixTable.hasOwnProperty(key) ? keyFixTable[key] : key;\n        }});\n      }\n\n      define(KeyboardEvent.prototype, 'key', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\n      }});\n\n      define(KeyboardEvent.prototype, 'location', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\n      }});\n\n      define(KeyboardEvent.prototype, 'locale', { get: function() {\n        return '';\n      }});\n    }());\n  }\n\n  if (!('queryKeyCap' in global.KeyboardEvent))\n    global.KeyboardEvent.queryKeyCap = queryKeyCap;\n\n  // Helper for IE8-\n  global.identifyKey = function(event) {\n    if ('code' in event)\n      return;\n\n    var keyInfo = keyInfoForEvent(event);\n    event.code = keyInfo ? keyInfo.code : '';\n    event.key = (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\n    event.location = ('location' in event) ? event.location :\n      ('keyLocation' in event) ? event.keyLocation :\n      (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\n    event.locale = '';\n  };\n\n} (window));\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}