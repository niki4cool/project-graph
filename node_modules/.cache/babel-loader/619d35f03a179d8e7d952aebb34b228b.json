{"ast":null,"code":"/**\n * Source: https://github.com/Adobe-Marketing-Cloud/fetch-script\n */\nfunction getScriptId() {\n  return 'script_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n}\n\nfunction createScript(url, id) {\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.async = true;\n  script.id = id;\n  script.src = url;\n  return script;\n}\n\nfunction removeScript(id) {\n  var script = document.getElementById(id);\n  var parent = script.parentNode;\n\n  try {\n    parent && parent.removeChild(script);\n  } catch (e) {// ignore\n  }\n}\n\nfunction appendScript(script) {\n  var firstScript = document.getElementsByTagName('script')[0];\n  firstScript.parentNode.insertBefore(script, firstScript);\n}\n\nfunction fetchScriptInternal(url, options, Promise) {\n  return new Promise(function (resolve, reject) {\n    var timeout = options.timeout || 5000;\n    var scriptId = getScriptId();\n    var script = createScript(url, scriptId);\n    var timeoutId = setTimeout(function () {\n      reject(new Error('Script request to ' + url + ' timed out'));\n      removeScript(scriptId);\n    }, timeout);\n\n    var disableTimeout = function disableTimeout(timeoutId) {\n      clearTimeout(timeoutId);\n    };\n\n    script.addEventListener('load', function (e) {\n      resolve({\n        ok: true\n      });\n      disableTimeout(timeoutId);\n      removeScript(scriptId);\n    });\n    script.addEventListener('error', function (e) {\n      reject(new Error('Script request to ' + url + ' failed ' + e));\n      disableTimeout(timeoutId);\n      removeScript(scriptId);\n    });\n    appendScript(script);\n  });\n}\n\nfunction fetchScript(settings) {\n  settings = settings || {};\n  return function (url, options) {\n    options = options || {};\n    return fetchScriptInternal(url, options, settings.Promise || Promise);\n  };\n}\n\nmodule.exports = fetchScript;","map":{"version":3,"names":["getScriptId","Date","now","Math","ceil","random","createScript","url","id","script","document","createElement","type","async","src","removeScript","getElementById","parent","parentNode","removeChild","e","appendScript","firstScript","getElementsByTagName","insertBefore","fetchScriptInternal","options","Promise","resolve","reject","timeout","scriptId","timeoutId","setTimeout","Error","disableTimeout","clearTimeout","addEventListener","ok","fetchScript","settings","module","exports"],"sources":["X:/Project/graph/node_modules/aframe-extras/lib/fetch-script.js"],"sourcesContent":["/**\n * Source: https://github.com/Adobe-Marketing-Cloud/fetch-script\n */\n\nfunction getScriptId() {\n  return 'script_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n}\n\nfunction createScript(url, id) {\n  var script = document.createElement('script');\n  script.type = 'text/javascript';\n  script.async = true;\n  script.id = id;\n  script.src = url;\n\n  return script;\n}\n\nfunction removeScript(id) {\n  const script = document.getElementById(id);\n  const parent = script.parentNode;\n\n  try {\n    parent && parent.removeChild(script);\n  } catch (e) {\n    // ignore\n  }\n}\n\nfunction appendScript(script) {\n  const firstScript = document.getElementsByTagName('script')[0];\n  firstScript.parentNode.insertBefore(script, firstScript);\n}\n\nfunction fetchScriptInternal(url, options, Promise) {\n  return new Promise(function(resolve, reject) {\n    const timeout = options.timeout || 5000;\n    const scriptId = getScriptId();\n    const script = createScript(url, scriptId);\n\n    const timeoutId = setTimeout(function() {\n      reject(new Error('Script request to ' + url + ' timed out'));\n\n      removeScript(scriptId);\n    }, timeout);\n\n    const disableTimeout = function(timeoutId) { clearTimeout(timeoutId); };\n\n    script.addEventListener('load', function(e) {\n      resolve({ok: true});\n\n      disableTimeout(timeoutId);\n      removeScript(scriptId);\n    });\n\n    script.addEventListener('error', function(e) {\n      reject(new Error('Script request to ' + url + ' failed ' + e));\n\n      disableTimeout(timeoutId);\n      removeScript(scriptId);\n    });\n\n    appendScript(script);\n  });\n}\n\nfunction fetchScript(settings) {\n  settings = settings || {};\n  return function (url, options) {\n    options = options || {};\n    return fetchScriptInternal(url, options, settings.Promise || Promise);\n  };\n}\n\nmodule.exports = fetchScript;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}